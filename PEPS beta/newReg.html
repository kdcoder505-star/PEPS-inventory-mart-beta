<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PEPS Mart - Customer Register</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    body { background:#f8fdf8; font-family: Inter, sans-serif; }
    .register-card {
      max-width:460px; margin:auto; margin-top:6%; padding:2rem;
      border-radius:1rem; box-shadow:0 6px 18px rgba(0,0,0,0.1); background:white;
    }
    .btn-green { background:#28a745; color:#fff; border:none; }
    .btn-green:hover { background:#1e7e34; color:#fff; }
    .brand { color:#28a745; font-weight:bold; font-size:1.8rem; text-align:center; margin-bottom:.5rem; }
    .tagline { text-align:center; color:#666; margin-bottom:1.5rem; }
    .input-group-text { background:#28a745; color:#fff; border:none; }
    .link-btn { border:none; background:none; color:#28a745; text-decoration:underline; cursor:pointer; font-size:.9rem; }
  </style>
</head>
<body>

<div class="container">
  <div class="register-card">
    <div class="brand"><i class="fas fa-store"></i> PEPS Mart</div>
    <p class="tagline">Create your customer account</p>
    <h4 class="text-center mb-3">üìù Register</h4>

    <form id="registerForm">
      <div class="mb-3 input-group">
        <span class="input-group-text"><i class="fas fa-user"></i></span>
        <input type="text" id="name" class="form-control" placeholder="Full Name" required>
      </div>
      <div class="mb-3 input-group">
        <span class="input-group-text"><i class="fas fa-envelope"></i></span>
        <input type="email" id="email" class="form-control" placeholder="Email" required>
      </div>
      <div class="mb-3 input-group">
        <span class="input-group-text"><i class="fas fa-lock"></i></span>
        <input type="password" id="password" class="form-control" placeholder="Password" required>
      </div>
      <div class="mb-3 input-group">
        <span class="input-group-text"><i class="fas fa-lock"></i></span>
        <input type="password" id="confirmPassword" class="form-control" placeholder="Confirm Password" required>
      </div>
      <button class="btn btn-green w-100 mb-2"><i class="fas fa-user-plus"></i> Register</button>
    </form>

    <div class="text-center mt-2">
     <a href="customerLogin.html" class="btn btn-outline-success"><i class="fas fa-arrow-left"></i>  Back</a>
    </div>
  </div>
</div>

<script>
/* --- Initialize storage --- */
if(!localStorage.getItem("customers")){
  localStorage.setItem("customers", JSON.stringify([
    { name:"Customer One", email:"customer1@peps.com", password:"12345" },
    { name:"Customer Two", email:"customer2@peps.com", password:"abc123" }
  ]));
}

/* --- Handle Register --- */
document.getElementById("registerForm").addEventListener("submit", function(e){
  e.preventDefault();
  const name = document.getElementById("name").value.trim();
  const email = document.getElementById("email").value.trim().toLowerCase();
  const password = document.getElementById("password").value.trim();
  const confirmPassword = document.getElementById("confirmPassword").value.trim();

  if(password !== confirmPassword){
    alert("‚ùå Passwords do not match!");
    return;
  }

  let customers = JSON.parse(localStorage.getItem("customers")) || [];
  if(customers.some(c=>c.email===email)){
    alert("‚ö†Ô∏è This email is already registered!");
    return;
  }

  customers.push({ name, email, password });
  localStorage.setItem("customers", JSON.stringify(customers));
  alert("‚úÖ Registration successful! Please login.");
  window.location.href="customerLogin.html";
});

/* --- Back to Login --- */
/*
function goLogin(){
  window.location.href="customerLogin.html";
}*/
</script>
</body>
</html>
